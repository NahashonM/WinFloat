<Window x:Class="WinFloat.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WinFloat"
        mc:Ignorable="d"
        Title="WinFloat" Height="380" Width="300" ResizeMode="NoResize"
        WindowStyle="None" AllowsTransparency="True" Background="Transparent">
    <Border Background="{StaticResource BgColor01}" CornerRadius="12,12,12,12" BorderBrush="{StaticResource BgColor02}" BorderThickness="1">
        <Grid Height="378" VerticalAlignment="Bottom">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <Grid Background="Transparent" Grid.Row="0" MouseLeftButtonDown="TitleBar_MouseDown">
                <!-- Settings | Pin -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                    <ToggleButton Style="{StaticResource ToggleMenuButtonStyle}" Click="BtnSettings_Click" x:Name="btnSettings" Content="⚙"/>
                    <ToggleButton Style="{StaticResource ToggleMenuButtonStyle}" Click="BtnPin_Click" x:Name="btnPin" Content="📌"/>
                </StackPanel>

                <!-- Minimize | Close -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Style="{StaticResource MenuButtonStyle}" Click="BtnMinimize_Click" Content="—" FontWeight="Bold"/>
                    <Button Style="{StaticResource MenuButtonStyle}" Click="BtnClose_Click" Content="✕" FontWeight="Bold"/>
                </StackPanel>
            </Grid>


            <!-- ~~~~~~~~ Main Panel ~~~~~~~~ -->
            <StackPanel x:Name="MainPanel" Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Center" Visibility="Hidden">
                <Grid Width="110" Height="110" Margin="0,0,0,30">
                    <Canvas>
                        <Line x:Name="crshr_y1" X1="55" Y1="-10" X2="55" Y2="30" Stroke="{StaticResource AccentColor01}" StrokeThickness="2"/>
                        <Line x:Name="crshr_y2" X1="55" Y1="80" X2="55" Y2="120" Stroke="{StaticResource AccentColor01}" StrokeThickness="2"/>
                        <Line x:Name="crshr_x1" X1="-10" Y1="55" X2="30" Y2="55" Stroke="{StaticResource AccentColor01}" StrokeThickness="2"/>
                        <Line x:Name="crshr_x2" X1="80" Y1="55" X2="120" Y2="55" Stroke="{StaticResource AccentColor01}" StrokeThickness="2"/>

                        <Ellipse Width="90" Height="90" Stroke="{StaticResource AccentColor01}" StrokeThickness="2" Canvas.Left="10" Canvas.Top="10"/>
                        <Ellipse Width="20" Height="20" Fill="{StaticResource AccentColor01}" Canvas.Left="45" Canvas.Top="45"/>
                    </Canvas>

                    <Ellipse Fill="{StaticResource AccentColor01}" Opacity="0.1" Margin="10" MouseLeftButtonDown="Crosshair_MouseDown">
                        <Ellipse.Effect>
                            <BlurEffect Radius="20"/>
                        </Ellipse.Effect>
                    </Ellipse>
                </Grid>

                <TextBlock Text="Drag crosshair" Foreground="{StaticResource TextColor01}" FontSize="22" FontWeight="Bold" HorizontalAlignment="Center"/>
                <TextBlock Text="Release on target window" Foreground="{StaticResource TextColor03}" FontSize="16" Margin="0,10" HorizontalAlignment="Center"/>
                <TextBlock Text="Press ESC to cancel" Foreground="{StaticResource TextColor04}" FontSize="14" Margin="0,20,0,0" HorizontalAlignment="Center"/>
            </StackPanel>
            <!-- End Main Panel -->


            <!-- ~~~~~~~~ Settings Panel ~~~~~~~~ Visibility="Hidden" -->
            <StackPanel x:Name="SettingsPanel" Margin="20,10,20,20" Grid.Row="1" >
                <TextBlock Text="Shortcuts" Style="{StaticResource SectionHeaderStyle}"/>

                <Label Content="Pin window shortcut" Style="{StaticResource LabelStyle}"/>
                <TextBox x:Name="txtBoxPin" Style="{StaticResource InputTextBoxStyle}" Margin="0,0,0,8" PreviewKeyDown="ShortcutTextBox_KeyDown"
                         GotKeyboardFocus="ShortcutTextBox_GotFocus" LostKeyboardFocus="ShortcutTextBox_LostFocus"/>

                <Label Content="Unpin window shortcut" Style="{StaticResource LabelStyle}"/>
                <TextBox x:Name="txtBoxUnPin" Style="{StaticResource InputTextBoxStyle}" Margin="0,0,0,20" PreviewKeyDown="ShortcutTextBox_KeyDown"
                         GotKeyboardFocus="ShortcutTextBox_GotFocus" LostKeyboardFocus="ShortcutTextBox_LostFocus"/>


                <TextBlock Text="Behavior" Style="{StaticResource SectionHeaderStyle}"/>

                <CheckBox x:Name="chkBoxMinimizeToTray" Content="Minimize to tray on exit" IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                <CheckBox x:Name="chkBoxWindowSelect" Content="Crosshair can target this window" IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,20,0,0">
                    <Button Style="{StaticResource BasicButtonStyle}" Margin="0,0,8,0"
                        Background="{StaticResource BgColor03}" Width="80" Height="35"
                        Click="SettingsResetClick" Content="Default" FontSize="13"/>

                    <Button Style="{StaticResource BasicButtonStyle}" Margin="0"
                            Background="{StaticResource AccentColor00}" Width="80" Height="35"
                            Click="SettingsSaveClick" Content="Save" FontSize="13"/>
                </StackPanel>
            </StackPanel>
            <!-- End Settings Panel -->
        </Grid>
    </Border>
</Window>
